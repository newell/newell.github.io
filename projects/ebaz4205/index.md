# Controlling the AD9834 DDS with the EBAZ4205 Zynq-SoC Board using ARTIQ

In this post, I’ll walk you through my project where I used the EBAZ4205 Zynq-SoC board to control an AD9834 DDS module by ZonRi Technology Co., Ltd. The AD9834 is a low-power DDS chip capable of generating sine, triangular, and square waves, and by leveraging ARTIQ, we can precisely control it.

I’ve contributed to the [ARTIQ](https://github.com/m-labs/artiq) and [ARTIQ-Zynq](https://git.m-labs.hk/M-Labs/artiq-zynq) repositories by adding support for the EBAZ4205 Zynq-SoC board. This board is a low-cost option that can be repurposed to work with ARTIQ, opening up a lot of possibilities for high-precision waveform generation.

I also added the core device driver for the AD9834 to ARTIQ, which allows us to control this DDS board seamlessly. Below, I’ll go through the setup, share some waveforms generated by the DDS, and show how phase modulation can be achieved using this configuration. It’s also worth mentioning that the AD9834 can perform frequency modulation (FM), although I’m not showing an example of that here.

## Setup on My Electronics Bench

Here's a photo of my setup on the electronics bench. You’ll see the EBAZ4205 Zynq-SoC board connected to the AD9834 module and the power supplies I used to drive them.
*(Insert setup photo here)*

## EBAZ4205 Booting from SD Card

Here’s a screenshot of the console output when the EBAZ4205 boots up its firmware from the SD card. This demonstrates the successful initialization of the board and loading of the ARTIQ framework:

*(Insert boot-up console output screenshot here)*

## Waveforms Generated by the AD9834

The AD9834 is capable of generating a range of waveforms. Below are examples of the sine, triangular, and square waves that I captured during my experiments:

### Sine Wave

Here’s a screenshot of the sine wave generated by the DDS:
*(Insert sine wave screenshot here)*

### Triangular Wave

This triangular wave is also produced by the AD9834:
*(Insert triangular wave screenshot here)*

### Square Wave

The square wave output shows how the AD9834 can handle different waveform outputs.
*(Insert square wave screenshot here)*

## Phase Modulation Example

Phase modulation allows you to change the phase of a signal relative to another. Below is an example where I modulated between quadrature waves (90 degrees phase difference) of the same frequency, switching at a rate of 10 µs:
*(Insert phase modulation screenshot here)*

## Frequency Modulation Capability

While I haven’t shown an example of this in this post, it’s important to note that the AD9834 DDS can also perform **frequency modulation (FM)**. This opens up more possibilities for waveform manipulation in signal processing and communications applications. The flexibility of the AD9834 in both phase and frequency modulation makes it a versatile component in high-precision signal generation projects.

## AD9834 Module Pinout and Connections

Here’s a photo of the bottom of the AD9834 module, showing the header pinout for easy reference:
*(Insert AD9834 pinout photo here)*

Below is a table that outlines how I connected the AD9834 module to the EBAZ4205 Zynq-SoC board:

| **Pin on AD9834 Module** | **Function**        | **Connection on Zynq Board**   |
|--------------------------|---------------------|--------------------------------|
| Pin 1                    | FSYNC               | GPIO X.X (Specify pin)         |
| Pin 2                    | SCLK                | GPIO X.X (Specify pin)         |
| Pin 3                    | SDATA               | GPIO X.X (Specify pin)         |
| Pin 4                    | Ground              | GND                           |
| Pin 5                    | VCC                 | 3.3V                          |
| Pin 6                    | IOUT                | Analog output                  |

*(Add more rows as necessary, depending on the connections)*

## Conclusion

By integrating the EBAZ4205 Zynq-SoC board with the AD9834 module through ARTIQ, I’ve been able to generate precise waveforms and experiment with phase modulation. While this post mainly focuses on phase modulation, the AD9834 also supports frequency modulation (FM), which adds even more versatility to this setup. The combination of the low-cost Zynq board and the flexibility of ARTIQ provides a powerful platform for waveform generation and signal processing.

